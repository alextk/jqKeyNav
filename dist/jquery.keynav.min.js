/*
* jqKeyNav - jQuery plugin for keyboard navigation events binding
*
* Version: 0.0.1
* Build: 11
* Copyright 2011 Alex Tkachev
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: 03 Jan 2012 00:35:52
*/

(function(a){var b={37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},c=function(){this.initialize.apply(this,arguments)};a.extend(c.prototype,{initialize:function(c){c=c||{},this.scope=c.context||c.scope||null;var d={},e=Object.keys(b).collect(function(a){return b[a]});e.select(function(b){return a.isFunction(c[b])}).each(function(a){d[a]=c[a]}),this.handlers=d,a.isFunction(c.any)&&(this.anyHandler=c.any)},relay:function(c){var d=c.data.keynav,e=c.which,f=b[e];f&&[d.handlers[f],d.anyHandler].select(function(b){return a.isFunction(b)}).each(function(a){var b=d.scope||a;a.call(b,c)!==!0&&c.stopEvent()})},bind:function(){this.unbind.apply(this,arguments);for(var a=0;a<arguments.length;a++){var b=arguments[a];b instanceof jQuery&&b.bind("keydown",{keynav:this},this.relay)}},unbind:function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];b instanceof jQuery&&b.unbind("keydown",this.relay)}}}),a.fn.keyNav=function(b){return this.each(function(){var c=a(this);if(a.isPlainObject(b)){var d=a.keyNav(b);c.data("keyNav")&&c.data("keyNav").unbind(),c.data("keyNav",d),d.bind(c)}else b=="bind"?c.data("keyNav").bind(c):b=="unbind"?c.data("keyNav").unbind(c):b=="destroy"&&(c.data("keyNav").unbind(c),c.removeData("keyNav"))})},a.keyNav=function(a){return new c(a)}})(jQuery)
